<!DOCTYPE html>
<html
  lang="en"
  xmlns:th="http://www.thymeleaf.org"
  xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
>
  <head th:replace="/fragments/head :: head"></head>
  <body>
    <div th:replace="/fragments/navbar :: navbar"></div>

    <div class="container fontc text-center">
      <h1 class="mt-2">Carrito de compras</h1>
      <div
        class="mt-5 mb-5 ml-3 mr-3 p-3 row border border-secondary shadow-lg"
        th:each="producto :${productos}"
      >
        <div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
          <div class="kart-image jutify-content-center">
            <img
              th:src="@{'/assets/img/' + ${producto.imagen}}"
              th:alt="${producto.imagen}"
            />
          </div>
        </div>
        <div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
          <div class="kart-details h-100">
            <div class="row">
              <h2 th:text="*{producto.nombre}">Nombre del producto</h2>
            </div>
            <div class="row text-left tx-sz-25 kart-description">
              <p class="w-50" th:text="*{producto.descripcion}">descripcion</p>
            </div>
            <div class="row">
              <div class="col-4 col-lg-4 col-md-4 col-sm-4 col-xs-4">
                <p>
                  $ &nbsp;&nbsp;<span th:text="*{producto.precio}">Precio</span>
                </p>
              </div>
              <div
                class="col-8 col-lg-8 col-md-8 col-sm-8 col-xs-8 justify-content-start d-flex"
              >
                <a
                  th:href="@{carrito/producto/{id} (id=${producto.id})}"
                  class="btn btn-light mr-3"
                  >Ver detalles</a
                >
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="CkEXb-DANGER alerta" th:if="${eliminacionCarrito != null}">
      <div class="a0A37 hAkP2">
        <p class="mb-0" th:text="${eliminacionCarrito}"></p>
      </div>
    </div>
    <div class="CkEXb-SUCCESS alerta" th:if="${shopSuccess != null}">
      <div class="a0A37 hAkP2">
        <p class="mb-0" th:text="${shopSuccess}"></p>
      </div>
    </div>

    <footer th:replace="/fragments/footer :: footer"></footer>
    <script type="text/javascript">
      $(document).ready(function () {
        setTimeout(function () {
          $(".alert").fadeOut(1500);
        }, 3000);
      });
    </script>
    <script
      src="assets/JQuery/jquery.min.js"
      th:src="@{/assets/JQuery/jquery.min.js}"
    ></script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
      th:src="@{https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js}"
    ></script>
    <script th:replace=" /fragments/scriptActive :: scriptActive"></script>
    <script th:replace=" /fragments/alerta :: alerta"></script>
  </body>
</html>
