<!DOCTYPE html>
<html
  lang="en"
  xmlns:th="http://www.thymeleaf.org"
  xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
>
  <head th:replace="/fragments/head :: head"></head>

  <body>
    <div th:replace="/fragments/navbar :: navbar"></div>

    <div
      sec:authorize="!hasRole('ADMIN')"
      style="
        height: auto;
        background: var(--bs-body-color);
        padding-bottom: 50px;
      "
    >
      <div
        id="carouselExampleIndicators"
        class="carousel slide"
        data-ride="carousel"
      >
        <ol class="carousel-indicators">
          <li
            data-target="#carouselExampleIndicators"
            data-slide-to="0"
            class="active"
          ></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
          <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
        </ol>
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img
              class="d-block w-100"
              th:src="@{'/assets/img/Draxter-slider-1.jpg'}"
              th:alt="Draxter-slider-2.jpg"
            />
          </div>
          <div class="carousel-item">
            <img
              class="d-block w-100"
              th:src="@{'/assets/img/Draxter-slider-2.jpg'}"
              th:alt="Draxter-slider-2.jpg"
            />
          </div>
          <div class="carousel-item">
            <img
              class="d-block w-100"
              th:src="@{'/assets/img/Draxter-slider-2.jpg'}"
              th:alt="Draxter-slider-2.jpg"
            />
          </div>
        </div>
        <a
          class="carousel-control-prev"
          href="#carouselExampleIndicators"
          role="button"
          data-slide="prev"
        >
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a
          class="carousel-control-next"
          href="#carouselExampleIndicators"
          role="button"
          data-slide="next"
        >
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
      <div
        class="alert alert-success"
        role="alert"
        th:if="${carritoGuardado != null}"
      >
        <p style="color: aliceblue" th:text="${carritoGuardado}"></p>
      </div>

      <div
        class="alert alert-success"
        role="alert"
        th:if="${carritoNoGuardado != null}"
      >
        <p style="color: aliceblue" th:text="${carritoNoGuardado}"></p>
      </div>
      <div
        class="d-flex"
        style="
          background: var(--bs-body-color);
          width: 90%;
          margin-right: 5%;
          margin-left: 5%;
          height: 200px;
          margin-top: 60px;
        "
        th:each="producto: ${productos}"
      >
        <div
          class="text-center"
          style="width: 25%; height: 100%; text-align: center"
        >
          <div
            style="
              width: 150px;
              height: 150px;
              margin-right: 31px;
              margin-left: 31px;
            "
          >
            <img
              style="width: 100%; height: 100%"
              th:src="@{'/assets/img/' + ${producto.imagen}}"
              th:alt="${producto.imagen}"
            />
            <h5
              style="
                color: var(--bs-white);
                margin-top: 10px;
                text-align: center;
              "
              th:text="*{producto.nombre}"
            ></h5>
          </div>
        </div>
        <div class="d-inline" style="width: 75%; height: 100%">
          <div style="width: 100%; height: 60%">
            <p th:text="*{producto.descripcion}" style="color: var(--bs-white)">
              It is a long established fact that a reader will be distracted by
              the readable content of a page when looking at its layout. The
              point of using Lorem Ipsum is that it has a more-or-less normal
              distribution of letters, as opposed to using 'Content here,
              content here', making it look like readable English.&nbsp;<br />
            </p>
          </div>
          <div style="height: 40%; width: 100%">
            <h3 style="color: var(--bs-white)">
              $ <span th:text="*{producto.precio}"></span>
            </h3>
            <a
              sec:authorize="isAuthenticated()"
              class="btn btn-primary"
              type="button"
              style="margin-left: 250px"
              th:href="@{carrito/{id}(id=${producto.id})}"
            >
              <!--catalogo/{id}(id=${producto.id})-->
              Añadir al carrito
            </a>
            <a
              sec:authorize="!isAuthenticated()"
              data-toggle="modal"
              data-target="#signUp"
              class="btn btn-primary"
              type="button"
              style="margin-left: 250px"
              href="#"
            >
              <!--catalogo/{id}(id=${producto.id})-->
              Añadir al carrito
            </a>
          </div>
        </div>
      </div>
    </div>
    <div th:replace="/fragments/signUp :: signUp"></div>

    <div
      sec:authorize="hasRole('ADMIN')"
      style="
        height: auto;
        background: var(--bs-body-color);
        padding-top: 50px;
        padding-bottom: 50px;
      "
    >
      <div
        class="d-flex"
        style="
          background: var(--bs-body-color);
          width: 90%;
          margin-right: 5%;
          margin-left: 5%;
          height: 200px;
          margin-top: 60px;
        "
        th:each="producto: ${productos}"
      >
        <div
          class="text-center"
          style="width: 25%; height: 100%; text-align: center"
        >
          <div
            style="
              width: 150px;
              height: 150px;
              margin-right: 31px;
              margin-left: 31px;
            "
          >
            <img
              style="width: 100%; height: 100%"
              th:src="@{'/assets/img/' + ${producto.imagen}}"
              th:alt="${producto.imagen}"
            />
            <h5
              style="
                color: var(--bs-white);
                margin-top: 10px;
                text-align: center;
              "
              th:text="*{producto.nombre}"
            ></h5>
          </div>
        </div>
        <div class="d-inline" style="width: 75%; height: 100%">
          <div style="width: 100%; height: 60%">
            <p th:text="*{producto.descripcion}" style="color: var(--bs-white)">
              It is a long established fact that a reader will be distracted by
              the readable content of a page when looking at its layout. The
              point of using Lorem Ipsum is that it has a more-or-less normal
              distribution of letters, as opposed to using 'Content here,
              content here', making it look like readable English.&nbsp;<br />
            </p>
          </div>
          <div style="height: 40%; width: 100%">
            <h3 style="color: var(--bs-white)">
              $ <span th:text="*{producto.precio}"></span>
            </h3>
            <a
              class="btn btn-primary"
              type="button"
              style="margin-left: 250px"
              th:href="@{/servicios/monitorearProductos/{id}(id=${producto.id})}"
            >
              Eliminar
            </a>
            <a
              class="btn btn-primary"
              type="button"
              style="margin-left: 250px"
              th:href="@{/servicios/monitorearProductos/editar/{id} (id=${producto.id})}"
            >
              Editar
            </a>
          </div>
        </div>
      </div>
    </div>

    <footer th:replace="/fragments/footer :: footer"></footer>
    <script
      src="assets/bootstrap/js/bootstrap.min.js"
      th:src="@{/assets/bootstrap/js/bootstrap.min.js}"
    ></script>
    <script
      src="assets/JQuery/jquery.min.js"
      th:src="@{/assets/JQuery/jquery.min.js}"
    ></script>
    <script
      src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
      th:src="@{https://code.jquery.com/jquery-3.2.1.slim.min.js}"
      integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
      th:src="@{https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js}"
      integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js"
      th:src="@{https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js}"
      integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
